---
title: "Joining the church of EMACS"
date: 2025-10-13
permalink: /posts/2025/10/emacs/
tags:
  - linux
  - arch
  - thinkpad
  - emacs
  - latex
  - rust
  - julia
  - melpa
---

Having recently completed a PhD degree in mathematics which didn't lead to any employment opportunitites. Therefore, one can say that I am a masochist and can not enjoy the bankrolled VS Code. I instead need to use one of the least popular text editor. If you also have lot of time at hand like me, continue reading this guide for using emacs as an IDE for LaTeX, Rust, Julia, and Python.

https://www.gnu.org/fun/jokes/gnuemacs.acro.exp.en.html

https://www.gnu.org/fun/jokes/gospel.en.html

1. Install appropriate EMACs edition. Here we assume Emacs 29, which has built-in Tree-sitter and LSP support (Eglot).
2. Install `rust-analyzer` binary https://rust-analyzer.github.io/book/rust_analyzer_binary.html
   ```
   rustup component add rust-analyzer
   ```
3. Install `rust-src` binary https://rust-analyzer.github.io/book/installation.html
   ```
   rustup component add rust-src
   ```
4. Create config file and open in Emacs
   ```
   mkdir -p ~/.emacs.d && touch ~/.emacs.d/init.el
   emacs ~/.emacs.d/init.el
   ```
5. Copy the following configurations
    ```
    ;;; --- 1. PACKAGE MANAGEMENT ---
    ;; Setup the ELPA/MELPA repositories for downloading plugins
    (require 'package)
    (add-to-list 'package-archives '("melpa" . "https://melpa.org/packages/") t)
    (package-initialize)
    
    ;; Install 'use-package' if it's not available (Standard on Emacs 29+)
    (unless (package-installed-p 'use-package)
      (package-refresh-contents)
      (package-install 'use-package))
    
    (require 'use-package)
    (setq use-package-always-ensure t) ; Automatically download packages when missing    
    
    ;;; --- 2. LSP & AUTO-COMPLETION ---
    (use-package eglot
      :ensure nil ; Built-in to Emacs 29+, so no download needed
      :bind (:map eglot-mode-map
                  ("C-c r" . eglot-rename)       ; Rename symbol under cursor
                  ("C-c a" . eglot-code-actions)  ; Quick fixes (import, etc)
                  ("M-."   . xref-find-definitions)) ; Jump to source
      :config
      ;; Shut up Eglot's logs to improve performance
      (setq eglot-events-buffer-size 0))
    
    
    ;;; --- 3. EDITOR QUALITY OF LIFE ---
    (setq-default 
     indent-tabs-mode nil      ; Use spaces, never tabs (Rust standard)
     tab-width 4)               ; Standard Rust tab width
    
    (global-display-line-numbers-mode) ; Turn on line numbers
    (save-place-mode 1)                ; Remember where the cursor was in a file
    (recentf-mode 1)                   ; Track recently opened files
    (electric-pair-mode 1)             ; Auto-close brackets () [] {}

    ;;; --- 4. RUST CONFIGURATION ---
    (use-package rust-mode
      :ensure t
      :mode "\\.rs\\'" ; Open .rs files with this mode
      :hook (rust-mode . eglot-ensure) ; Automatically start rust-analyzer (LSP)
      :config
      ;; Use Tree-sitter for better syntax highlighting (Fast & Accurate)
      (setq rust-mode-treesitter-derive t)
      ;; Auto-format code using 'rustfmt' every time you save
      (setq rust-format-on-save t))
    ```
    After saving the file, restart Emacs and open a Rust file (e.g., `main.rs`).
